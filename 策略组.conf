[General]
ipv6 = false
bypass-system = true
skip-proxy = 127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,100.64.0.0/10,17.0.0.0/8
# --- DNS ä¿®æ­£ï¼šé˜²æ³„æ¼è®¾ç½® ---
# ä½¿ç”¨å›½é™… DNS ç¡®ä¿éšç§ï¼Œå›½å†…åŸŸåä¼šé€šè¿‡ Rule è§„åˆ™é‡Œçš„ Direct ç›´è¿ï¼Œä¸ä¼šå½±å“å›½å†…é€Ÿåº¦
doh-server = https://1.1.1.1/dns-query,https://8.8.8.8/dns-query
# å¤‡ç”¨ DNS (ä»…åœ¨ DoH å¤±è´¥æ—¶ä½¿ç”¨)
fallback-dns-server = 1.1.1.1,8.8.8.8
prefer-doh = true
dns-fallback-system = false
force-dns-over-proxy = false
udp-policy-not-supported-behaviour = REJECT
update-url = https://raw.githubusercontent.com/0596cyy-cyber/Shadowrocket/refs/heads/main/%E7%AD%96%E7%95%A5%E7%BB%84.conf

[Proxy Group]
# --- æ ¸å¿ƒç­–ç•¥ ---
ğŸš€ èŠ‚ç‚¹é€‰æ‹© = select, ğŸ”¯ è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯, ğŸ‡¨ğŸ‡³ å°æ¹¾, ğŸ‡¯ğŸ‡µ æ—¥æœ¬, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡, ğŸ‡ºğŸ‡¸ ç¾å›½, ğŸ‡¬ğŸ‡§ è‹±å›½
ğŸ”¯ è‡ªåŠ¨é€‰æ‹© = url-test, policy-regex-filter=(?i)(HK|Hong|TW|Tai|JP|Japan|US|State|SG|Sing|KR|Korea|UK|Kingdom), url=http://www.gstatic.com/generate_204, interval=300, tolerance=50

# --- åœºæ™¯ç­–ç•¥ ---
# OpenAI/ChatGPT ä¸“ç”¨ (å¼ºåˆ¶ç¾å›½)
ğŸ’» å¼€å‘å¹³å° = select, policy-regex-filter=(?i)(ç¾å›½|US|United States|Relay)

# æµåª’ä½“ (é»˜è®¤è·ŸéšèŠ‚ç‚¹é€‰æ‹©ï¼Œä¹Ÿå¯æ‰‹åŠ¨æŒ‡å®š)
ğŸ¬ æµåª’ä½“ = select, ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡, ğŸ‡¯ğŸ‡µ æ—¥æœ¬, ğŸ‡ºğŸ‡¸ ç¾å›½, ğŸ‡¬ğŸ‡§ è‹±å›½
ğŸ“º å›½å†…æµåª’ä½“ = select, DIRECT

# ç¤¾äº¤ä¸æ¸¸æˆ
ğŸ“± ç¤¾äº¤å¹³å° = select, ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯, ğŸ‡¯ğŸ‡µ æ—¥æœ¬, ğŸ‡ºğŸ‡¸ ç¾å›½
ğŸ® æ¸¸æˆå¹³å° = select, ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ‡¯ğŸ‡µ æ—¥æœ¬, ğŸ‡ºğŸ‡¸ ç¾å›½

# å…¶ä»–
ğŸ“° æ–°é—»é˜…è¯» = select, ğŸš€ èŠ‚ç‚¹é€‰æ‹©
ğŸ è‹¹æœæœåŠ¡ = select, DIRECT, ğŸš€ èŠ‚ç‚¹é€‰æ‹©
ğŸŒ å›½å¤–æœåŠ¡ = select, ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ”¯ è‡ªåŠ¨é€‰æ‹©
ğŸŒ å›½å†…æœåŠ¡ = select, DIRECT
ğŸ›‘ å¹¿å‘Šæ‹¦æˆª = select, REJECT

# --- åœ°åŒºè‡ªåŠ¨ç­›é€‰ (å…³é”®ä¿®æ­£ï¼šè¡¥å…¨äº†è¿™é‡Œçš„å®šä¹‰) ---
ğŸ‡­ğŸ‡° é¦™æ¸¯ = select, policy-regex-filter=(?i)(æ¸¯|HK|Hong)
ğŸ‡¨ğŸ‡³ å°æ¹¾ = select, policy-regex-filter=(?i)(å°|TW|Tai)
ğŸ‡¯ğŸ‡µ æ—¥æœ¬ = select, policy-regex-filter=(?i)(æ—¥|JP|Japan)
ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡ = select, policy-regex-filter=(?i)(æ–°|SG|Sing)
ğŸ‡ºğŸ‡¸ ç¾å›½ = select, policy-regex-filter=(?i)(ç¾|US|State)
ğŸ‡¬ğŸ‡§ è‹±å›½ = select, policy-regex-filter=(?i)(è‹±|UK|Kingdom)

[Rule]
# --- ä¼˜å…ˆçº§æœ€é«˜ç›´è¿åŒº ---
DOMAIN-KEYWORD,douyinvod.com,DIRECT

# --- æŠ–éŸ³/å­—èŠ‚è·³åŠ¨ç›´è¿ ---
DOMAIN-SUFFIX,douyin.com,DIRECT
DOMAIN-SUFFIX,iesdouyin.com,DIRECT
DOMAIN-SUFFIX,snssdk.com,DIRECT
DOMAIN-SUFFIX,amemv.com,DIRECT
DOMAIN-SUFFIX,muscdn.com,DIRECT
DOMAIN-SUFFIX,sidestore.io,DIRECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/WeChatChina.list,DIRECT
# --- å¹¿å‘Šæ‹¦æˆª ---
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Advertising/Advertising.list,ğŸ›‘ å¹¿å‘Šæ‹¦æˆª
DOMAIN-SUFFIX,umeng.com,REJECT
DOMAIN-SUFFIX,umengcloud.com,REJECT
DOMAIN-KEYWORD,umeng,REJECT
DOMAIN-SUFFIX,talkingdata.net,REJECT
DOMAIN-KEYWORD,talkingdata,REJECT
DOMAIN-SUFFIX,hm.baidu.com,REJECT
DOMAIN-SUFFIX,baidustatic.com,REJECT
DOMAIN-KEYWORD,baiduads,REJECT
DOMAIN-SUFFIX,mmstat.com,REJECT
DOMAIN-SUFFIX,adashx.ut.taobao.com,REJECT
DOMAIN-SUFFIX,pangolin-sdk-toutiao.com,REJECT
DOMAIN-SUFFIX,bytedance.com,REJECT
DOMAIN-SUFFIX,bytedance.net,REJECT
DOMAIN-SUFFIX,byteoversea.com,REJECT
DOMAIN-KEYWORD,ad.byted,REJECT

# --- å¼€å‘å¹³å° (OpenAI / Gemini) ---
DOMAIN-KEYWORD,openai.com,ğŸ’» å¼€å‘å¹³å°
DOMAIN-KEYWORD,chatgpt.com,ğŸ’» å¼€å‘å¹³å°
DOMAIN-KEYWORD,anthropic.com,ğŸ’» å¼€å‘å¹³å°
DOMAIN-KEYWORD,claude.ai,ğŸ’» å¼€å‘å¹³å°
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Gemini/Gemini.list,ğŸ’» å¼€å‘å¹³å°
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/GitHub/GitHub.list,ğŸ’» å¼€å‘å¹³å°
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Google/Google.list,ğŸ’» å¼€å‘å¹³å°

# --- å›½å†…æµåª’ä½“ ---
DOMAIN-SUFFIX,iqiyi.com,ğŸ“º å›½å†…æµåª’ä½“
DOMAIN-SUFFIX,letv.com,ğŸ“º å›½å†…æµåª’ä½“
DOMAIN-SUFFIX,sohu.com,ğŸ“º å›½å†…æµåª’ä½“
DOMAIN-SUFFIX,youku.com,ğŸ“º å›½å†…æµåª’ä½“
DOMAIN-SUFFIX,bilibili.com,ğŸ“º å›½å†…æµåª’ä½“
DOMAIN-SUFFIX,mgtv.com,ğŸ“º å›½å†…æµåª’ä½“

# --- è‹¹æœæœåŠ¡ ---
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Apple/Apple.list,ğŸ è‹¹æœæœåŠ¡

# --- å›½å¤–æµåª’ä½“ ---
# TikTok å»ºè®®åˆ†æµåˆ°æ—¥æœ¬æˆ–èµ°é€šç”¨èŠ‚ç‚¹ï¼Œä¸è¦å¼ºåˆ¶èµ°å¼€å‘å¹³å°(ç¾å›½)ï¼Œå®¹æ˜“é»‘å±
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/TikTok/TikTok.list,ğŸ‡¯ğŸ‡µ æ—¥æœ¬
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Netflix/Netflix.list,ğŸ¬ æµåª’ä½“
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Disney/Disney.list,ğŸ¬ æµåª’ä½“
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/YouTube/YouTube.list,ğŸ¬ æµåª’ä½“
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/HBO/HBO.list,ğŸ¬ æµåª’ä½“
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/PrimeVideo/PrimeVideo.list,ğŸ¬ æµåª’ä½“
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/AppleTV/AppleTV.list,ğŸ¬ æµåª’ä½“
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Hulu/Hulu.list,ğŸ¬ æµåª’ä½“
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Spotify/Spotify.list,ğŸ¬ æµåª’ä½“

# --- ç¤¾äº¤å¹³å° ---
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Telegram/Telegram.list,ğŸ“± ç¤¾äº¤å¹³å°
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Twitter/Twitter.list,ğŸ“± ç¤¾äº¤å¹³å°
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Facebook/Facebook.list,ğŸ“± ç¤¾äº¤å¹³å°
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Instagram/Instagram.list,ğŸ“± ç¤¾äº¤å¹³å°

# --- æ¸¸æˆå¹³å° ---
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Game/Game.list,ğŸ® æ¸¸æˆå¹³å°

# --- å…¶ä»– ---
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Proxy/Proxy.list,ğŸŒ å›½å¤–æœåŠ¡
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/China/China.list,ğŸŒ å›½å†…æœåŠ¡
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/ChinaIPs/ChinaIPs.list,ğŸŒ å›½å†…æœåŠ¡
GEOIP,CN,ğŸŒ å›½å†…æœåŠ¡
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Lan/Lan.list,DIRECT

# --- å…œåº• ---
FINAL,ğŸŒ å›½å¤–æœåŠ¡

[MITM]
ca-passphrase = 
ca-p12 = 
enable = true
hostname = *.ads.youtube.com,*.doubleclick.net,*.umeng.com,*.umengcloud.com,*.gdt.qq.com,*.ad.xiaomi.com,*.ad.sohu.com,*.ad.12306.cn,*.ad.caiyunapp.com,*.ad.huajiao.com,*.ad.kuaishou.com,*.ad.meitu.com,*.ad.iqiyi.com,*.ad.mgtv.com,*.ad.qingting.fm,*.ad.tencent.com,*.ad.toutiao.com,*.ad.weibo.com,*.ad.ximalaya.com,*.ad.zhihu.com,*.ads.linkedin.com,*.ads.twitter.com,*.ads.yahoo.com,*.ads.pinterest.com,*.ads.reddit.com,*.ads.snapchat.com,*.ads.tiktok.com,*.ads.twitch.tv,*.ads.unity3d.com,*.ads.vungle.com,*.ads.yandex.ru,*.ads.mopub.com,*.ads.inmobi.com,*.ads.applovin.com,*.ads.ironSource.com,*.ads.adcolony.com,*.ads.chartboost.com,*.ads.tapjoy.com,*.ads.unityads.unity3d.com
